(function(e){function t(t){for(var a,o,s=t[0],c=t[1],u=t[2],d=0,p=[];d<s.length;d++)o=s[d],r[o]&&p.push(r[o][0]),r[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);l&&l(t);while(p.length)p.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(a=!1)}a&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},r={app:0},i=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var a=n("1356"),r=n.n(a);r.a},1:function(e,t){},1356:function(e,t,n){},2:function(e,t){},3:function(e,t){},4:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),r=n("bb71"),i=(n("bf40"),n("c0a4")),o=n.n(i);a["a"].use(r["a"],{iconfont:"md",theme:{primary:o.a.indigo,secondary:o.a.lightGreen,accent:o.a.blue}});var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{id:"app"}},[n("v-toolbar",{attrs:{dark:"",color:"primary"}},[n("v-toolbar-title",[e._v("PoseKey")]),n("v-spacer"),n("v-btn",{attrs:{dark:"",flat:"",icon:""},on:{click:function(t){return e.switched()}}},[n("v-icon",[e._v("power_settings_new")])],1),n("v-tabs",{attrs:{slot:"extension",color:"primary",dark:"","slider-color":"white",grow:"","fixed-tabs":""},slot:"extension"},[n("v-tab",{attrs:{to:"/"}},[n("v-icon",[e._v("gesture")])],1),n("v-tab",{attrs:{to:"/mirror"}},[n("v-icon",[e._v("face")])],1),n("v-tab",{attrs:{to:"/setting"}},[n("v-icon",[e._v("settings")])],1)],1)],1),n("v-container",{staticClass:"scroll-y"},[n("router-view")],1)],1)},c=[],u={name:"App",components:{},data:function(){return{boolean:!1}},methods:{switched:function(){chrome.runtime.sendMessage({data:"trigger"})}},mounted:function(){var e=this;chrome.runtime.sendMessage({data:"?"},function(t){console.log(t),1==t.data?e.boolean=!0:e.boolean=!1})}},l=u,d=(n("034f"),n("2877")),p=n("6544"),f=n.n(p),h=n("7496"),v=n("8336"),m=n("a523"),g=n("132d"),b=n("9910"),y=n("71a3"),w=n("fe57"),x=n("71d9"),_=n("2a7f"),k=Object(d["a"])(l,s,c,!1,null,null,null),j=k.exports;f()(k,{VApp:h["a"],VBtn:v["a"],VContainer:m["a"],VIcon:g["a"],VSpacer:b["a"],VTab:y["a"],VTabs:w["a"],VToolbar:x["a"],VToolbarTitle:_["a"]});var O=n("8c4f"),V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"about"},[n("v-card",[n("v-card-title",[n("h2",[e._v("Signed in as")])]),n("v-card-text",[n("v-list-tile",[n("v-list-tile-avatar",{attrs:{size:"30px"}},[n("img",{attrs:{src:this.user.photoURL,alt:"avatar"}})]),n("v-list-tile-content",[n("h3",[e._v(" "+e._s(e.displayName)+" ")])]),n("v-list-tile-action",[n("v-btn",{attrs:{color:"primary",round:"",flat:""},on:{click:e.logout}},[e._v("Sign Out")])],1)],1)],1)],1),n("v-divider"),n("v-card",[n("v-card-title",[n("v-tooltip",{attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(t){return[n("h2",e._g({},t.on),[e._v("Setting")])]}}])},[n("span",[e._v("Recommended \n            posenet model: 0.75\n            image scale: 0.4\n            frequency: 0.5\n            accuracy: 0.6\n          ")])])],1),n("v-card-text",[n("v-slider",{attrs:{label:"posenet model","tick-labels":e.ticksLabels,max:3,step:"1",ticks:"always","tick-size":"2","persistent-hint":"",hint:"Increasing this value will detect your pose better, but this will also increase the delay of loading websites."},on:{change:function(t){return e.change()}},model:{value:e.pm,callback:function(t){e.pm=t},expression:"pm"}})],1),n("v-card-text",[n("v-slider",{attrs:{label:"image scale",step:"0.01",min:"0.2",max:"1.0","thumb-label":"always","persistent-hint":"",hint:"Increasing this value will detect your pose better, but this may cause the computer to lag"},on:{change:function(t){return e.change()}},model:{value:e.sc,callback:function(t){e.sc=t},expression:"sc"}})],1),n("v-card-text",[n("v-slider",{attrs:{label:"frequency",step:"100",min:"100",max:"1000","thumb-label":"always","persistent-hint":"",hint:"Increasing this value will detect your pose faster, but this might cause the computer to lag."},on:{change:function(t){return e.change()}},model:{value:e.fq,callback:function(t){e.fq=t},expression:"fq"}})],1),n("v-card-text",[n("v-slider",{attrs:{label:"Accuracy",min:"50",max:"100",ticks:"always","tick-size":"2",step:"10","thumb-label":"always","persistent-hint":"",hint:"Increasing this value will decrease mis-recognition, but in trade off, it will require the user to show accurate poses."},on:{change:function(t){return e.change()}},model:{value:e.ac,callback:function(t){e.ac=t},expression:"ac"}})],1)],1),n("v-divider"),n("v-card",[n("v-card-title",[n("h2",[e._v("Credits")])]),n("v-card-text",[n("div",[e._v("All Icons are made by "),n("a",{attrs:{href:"https://www.freepik.com/",title:"Freepik"}},[e._v("Freepik")]),e._v(" from "),n("a",{attrs:{href:"https://www.flaticon.com/",title:"Flaticon"}},[e._v("www.flaticon.com")]),e._v(" is licensed by "),n("a",{attrs:{href:"http://creativecommons.org/licenses/by/3.0/",title:"Creative Commons BY 3.0",target:"_blank"}},[e._v("CC 3.0 BY")])])])],1)],1)},S=[],C=(n("a481"),n("cebc")),R=n("2f62"),q={computed:Object(C["a"])({},Object(R["c"])(["user"]),{displayName:function(){return this.user?this.user.displayName:""}}),data:function(){return{value:0,ticksLabels:["0.5","0.75","1.0","1.01"],pm:1,sc:.5,fq:500,ac:70}},methods:{change:function(){console.log(this.pm),chrome.runtime.sendMessage({data:"setting",pmm:this.pm,scm:this.sc,fqm:this.fq,acm:this.ac})},logout:function(){this.$auth.logout(),this.$router.replace({name:"login"})}},mounted:function(){var e=this;chrome.runtime.sendMessage({data:"?"},function(t){console.log(t),e.pm=t.pmm,e.sc=t.scm,e.fq=t.fqm,e.ac=t.acm})}},T=q,E=(n("c245"),n("b0af")),I=n("99d9"),P=n("12b2"),M=n("ce7e"),$=n("ba95"),A=n("40fe"),D=n("c954"),L=n("5d23"),B=n("ba0d"),U=n("3a2f"),F=Object(d["a"])(T,V,S,!1,null,"08c3bb90",null),N=F.exports;f()(F,{VBtn:v["a"],VCard:E["a"],VCardText:I["a"],VCardTitle:P["a"],VDivider:M["a"],VListTile:$["a"],VListTileAction:A["a"],VListTileAvatar:D["a"],VListTileContent:L["a"],VSlider:B["a"],VTooltip:U["a"]});var G=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{height:"360px","align-center":""}},[n("v-card-title",[n("h2",[e._v("Please Sign in to Proceed")])]),n("p"),n("v-card-text",[n("v-list",[n("v-btn",{attrs:{color:"deep-orange",outline:"",round:""},on:{click:e.loginG}},[e._v("\n                Sign in with Google\n            ")])],1)],1)],1)},z=[],W=(n("96cf"),n("3b8d")),J={name:"Login",computed:Object(C["a"])({},Object(R["b"])(["user"]),{nextRoute:function(){return this.$route.query.redirect||"/"}}),watch:{user:function(e){e&&this.$router.replace(this.nextRoute)}},methods:{loginG:function(){var e=Object(W["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$auth.loginG();case 2:e.sent;case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},Y=J,K=n("8860"),X=Object(d["a"])(Y,G,z,!1,null,"69755504",null),H=X.exports;f()(X,{VBtn:v["a"],VCard:E["a"],VCardText:I["a"],VCardTitle:P["a"],VList:K["a"]});var Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.details},scopedSlots:e._u([{key:"items",fn:function(t){return[n("td",[e._v(e._s(t.item.name))]),n("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.Description))]),n("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.Function))])]}}])},[n("template",{slot:"no-data"},[n("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[e._v("\n                Sorry, nothing to display here :(\n            ")])],1)],2)],1)},Z=[],ee=(n("ac6a"),{computed:Object(C["a"])({},Object(R["c"])(["user"]),{displayName:function(){return this.user?this.user.displayName:""}}),data:function(){return{headers:[{text:"name",align:"left",sortable:!1,value:"name"},{text:"Description",value:"Description"},{text:"Function",value:"Function"}],details:[]}},methods:{logout:function(){this.$auth.logout(),this.$router.replace({name:"login"})}},created:function(){var e=this,t=this.$db.requireDB();t.collection("poses").onSnapshot(function(t){var n=t.docChanges();n.forEach(function(t){"added"===t.type&&e.details.push(Object(C["a"])({},t.doc.data(),{id:t.doc.id}))}),console.log(e.headers),console.log(e.details)})}}),te=ee,ne=n("0798"),ae=n("8fea"),re=Object(d["a"])(te,Q,Z,!1,null,"6d24412a",null),ie=re.exports;f()(re,{VAlert:ne["a"],VDataTable:ae["a"]});var oe,se,ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{height:"360"}},[n("v-card-media",{attrs:{id:"ifNErr"}},[n("canvas",{attrs:{id:"output",width:"610",height:"360"}})]),n("v-card-text",{staticStyle:{display:"none"},attrs:{id:"ifErr"}},[n("p",{attrs:{id:"info"}},[e._v(" Camera access has been denied. If you have camera, you can allow access\n        "),n("a",{attrs:{href:"chrome-extension://pifojknhlbglpfoehbppiddjlgebooom/options.html",target:"_blank"}},[e._v("here")]),e._v("\n        .")])])],1)},ue=[],le=n("8726"),de=n("768b"),pe=(n("6c7b"),n("0b53"),"aqua"),fe=2;function he(e){var t=e.y,n=e.x;return[t,n]}function ve(e,t,n,a,r){e.beginPath(),e.arc(n,t,a,0,2*Math.PI),e.fillStyle=r,e.fill()}function me(e,t,n,a,r){var i=Object(de["a"])(e,2),o=i[0],s=i[1],c=Object(de["a"])(t,2),u=c[0],l=c[1];r.beginPath(),r.moveTo(s*a,o*a),r.lineTo(l*a,u*a),r.lineWidth=fe,r.strokeStyle=n,r.stroke()}function ge(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=le["a"](e,t);r.forEach(function(e){me(he(e[0].position),he(e[1].position),pe,a,n)})}function be(e,t,n){for(var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=0;r<e.length;r++){var i=e[r];if(!(i.score<t)){var o=i.position,s=o.y,c=o.x;ve(n,s*a,c*a,3,pe)}}}var ye,we=640,xe=480,_e={name:"Mirror",data:function(){return{msg:"Welcome to Your Vue.js App",loading:!0}},methods:{},mounted:function(){var e=Object(W["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,le["c"](1.01);case 2:return oe=e.sent,e.prev=3,e.next=6,ke();case 6:se=e.sent,e.next=16;break;case 9:throw e.prev=9,e.t0=e["catch"](3),t=document.getElementById("ifErr"),t.style.display="block",n=document.getElementById("ifNErr"),n.style.display="none",e.t0;case 16:Oe(se,oe);case 17:case"end":return e.stop()}},e,this,[[3,9]])}));function t(){return e.apply(this,arguments)}return t}(),beforeDestroy:function(){oe.dispose(),console.log("disposed")}};function ke(){return je.apply(this,arguments)}function je(){return je=Object(W["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){e.next=2;break}throw new Error("Browser API navigator.mediaDevices.getUserMedia not available");case 2:return e.next=4,navigator.mediaDevices.getUserMedia({video:!0,audio:!1});case 4:return ye=e.sent,t=document.createElement("video"),t.height=xe,t.width=we,t.srcObject=ye,t.play(),e.abrupt("return",t);case 11:case"end":return e.stop()}},e,this)})),je.apply(this,arguments)}function Oe(e,t){var n=document.getElementById("output"),a=n.getContext("2d");function r(){return i.apply(this,arguments)}function i(){return i=Object(W["a"])(regeneratorRuntime.mark(function n(){var i;return regeneratorRuntime.wrap(function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.estimateSinglePose(e,.3,!0,16);case 2:i=n.sent,a.clearRect(0,0,we,xe),a.save(),a.scale(-1,1),a.translate(-we,0),a.drawImage(e,0,0,we,xe),a.restore(),i.score>=.1&&(be(i.keypoints,.3,a),ge(i.keypoints,.3,a)),requestAnimationFrame(r);case 11:case"end":return n.stop()}},n,this)})),i.apply(this,arguments)}r()}var Ve=_e,Se=n("b901"),Ce=Object(d["a"])(Ve,ce,ue,!1,null,"0274cf66",null),Re=Ce.exports;f()(Ce,{VCard:E["a"],VCardMedia:Se["a"],VCardText:I["a"]}),a["a"].use(R["a"]);var qe={user:null},Te={updateUser:function(e,t){var n=t.user;a["a"].set(e,"user",n)}},Ee={},Ie={user:function(e){return e.user}},Pe=new R["a"].Store({state:qe,mutations:Te,actions:Ee,getters:Ie}),Me=Pe;a["a"].use(O["a"]);var $e=new O["a"]({routes:[{path:"/setting",name:"setting",component:N,meta:{authRequired:!0}},{path:"/login",name:"login",component:H},{path:"/Mirror",name:"Mirror",component:Re},{path:"/",name:"main",component:ie,meta:{authRequired:!0}}]});$e.beforeEach(function(e,t,n){e.matched.some(function(e){return e.meta.authRequired})?Me.state.user?n():n({path:"/login",query:{redirect:e.fullPath}}):n()});var Ae=$e,De=n("31bd"),Le=(n("6b54"),n("8aa5")),Be=n.n(Le),Ue=(n("e71f"),{apiKey:"AIzaSyAeizSulUyLs6RoVa82vOW99hw0ldFJqX8",authDomain:"capstone-67677.firebaseapp.com",databaseURL:"https://capstone-67677.firebaseio.com",projectId:"capstone-67677",storageBucket:"capstone-67677.appspot.com",messagingSenderId:"719697691522"}),Fe={install:function(e,t){var n=Be.a.initializeApp(Ue),a=n.auth(),r=n.firestore();e.prototype.$db={requireDB:function(){return r}},e.prototype.$auth={loginG:function(){var e=Object(W["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=new Be.a.auth.GoogleAuthProvider,e.next=3,a.signInWithPopup(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),logout:function(){var e=Object(W["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.signOut();case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},a.onAuthStateChanged(function(e){Me.commit("updateUser",{user:e}),console.log(e),e&&r.collection("users").doc(e.uid.toString()).set({uid:e.uid,name:e.displayName,email:e.email,photoURL:e.photoURL})})}};n.d(t,"app",function(){return app}),n.d(t,"router",function(){return Ae}),n.d(t,"store",function(){return Me}),a["a"].use(Fe),a["a"].config.productionTip=!1,Object(De["sync"])(Me,Ae),new a["a"]({router:Ae,store:Me,render:function(e){return e(j)}}).$mount("#app")},c245:function(e,t,n){"use strict";var a=n("ff8f"),r=n.n(a);r.a},ff8f:function(e,t,n){}});
//# sourceMappingURL=app.84752c4c.js.map