(function(e){function t(t){for(var r,o,s=t[0],c=t[1],u=t[2],p=0,d=[];p<s.length;p++)o=s[p],a[o]&&d.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(d.length)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={app:0},i=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var r=n("1356"),a=n.n(r);a.a},1:function(e,t){},1356:function(e,t,n){},"1cb7":function(e,t,n){},2:function(e,t){},3:function(e,t){},4:function(e,t){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),a=n("bb71"),i=(n("bf40"),n("c0a4")),o=n.n(i);r["a"].use(a["a"],{iconfont:"md",theme:{primary:o.a.indigo,secondary:o.a.red,accent:o.a.blue}});var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{id:"app"}},[n("v-toolbar",{attrs:{dark:"",color:"primary"}},[n("v-toolbar-title",[e._v("PoseKey")]),n("v-spacer"),n("v-btn",{attrs:{dark:"",flat:"",icon:""},on:{click:function(t){return e.switched()}}},[n("v-icon",[e._v("power_settings_new")])],1),this.$auth.user?e._e():n("v-btn",{attrs:{dark:"",round:"",flat:""},on:{click:e.logout}},[e._v("Sign Out")]),n("v-tabs",{attrs:{slot:"extension",color:"primary",dark:"","slider-color":"white",grow:"","fixed-tabs":""},slot:"extension"},[n("v-tab",{attrs:{to:"/"}},[n("v-icon",[e._v("gesture")])],1),n("v-tab",{attrs:{to:"/mirror"}},[n("v-icon",[e._v("face")])],1),n("v-tab",{attrs:{to:"/setting"}},[n("v-icon",[e._v("settings")])],1)],1)],1),n("v-container",{staticClass:"scroll-y"},[n("v-layout",{staticStyle:{"max-height":"500px","margin-top":"30px"},attrs:{column:"","align-center":"","justify-center":""}},[n("router-view")],1)],1)],1)},c=[],u=(n("a481"),{name:"App",components:{},data:function(){return{boolean:!1}},methods:{switched:function(){chrome.runtime.sendMessage({data:"trigger"})},logout:function(){this.$auth.logout(),this.$router.replace({name:"login"})}},mounted:function(){var e=this;chrome.runtime.sendMessage({data:"?"},function(t){console.log(t),1==t.data?e.boolean=!0:e.boolean=!1})}}),l=u,p=(n("034f"),n("2877")),d=n("6544"),f=n.n(d),h=n("7496"),m=n("8336"),v=n("a523"),g=n("132d"),b=n("a722"),y=n("9910"),w=n("71a3"),x=n("fe57"),_=n("71d9"),k=n("2a7f"),j=Object(p["a"])(l,s,c,!1,null,null,null),O=j.exports;f()(j,{VApp:h["a"],VBtn:m["a"],VContainer:v["a"],VIcon:g["a"],VLayout:b["a"],VSpacer:y["a"],VTab:w["a"],VTabs:x["a"],VToolbar:_["a"],VToolbarTitle:k["a"]});var S=n("8c4f"),R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"about"},[n("v-card",[n("v-card-title",[n("h2",[e._v("Setting")])]),n("v-card-text",[n("v-slider",{attrs:{label:"posenet model","tick-labels":e.ticksLabels,max:3,step:"1",ticks:"always","tick-size":"2","persistent-hint":"",hint:"Increasing this value will detect your pose better, but this will also increase the delay of loading websites."},on:{change:function(t){return e.change()}},model:{value:e.pm,callback:function(t){e.pm=t},expression:"pm"}})],1),n("v-card-text",[n("v-slider",{attrs:{label:"image scale",step:"0.01",min:"0.2",max:"1.0","thumb-label":"always","persistent-hint":"",hint:"Increasing this value will detect your pose better, but this may cause the computer to lag"},on:{change:function(t){return e.change()}},model:{value:e.sc,callback:function(t){e.sc=t},expression:"sc"}})],1),n("v-card-text",[n("v-slider",{attrs:{label:"frequency",step:"100",min:"100",max:"1000","thumb-label":"always","persistent-hint":"",hint:"Increasing this value will detect your pose faster, but this might cause the computer to lag."},on:{change:function(t){return e.change()}},model:{value:e.fq,callback:function(t){e.fq=t},expression:"fq"}})],1),n("v-card-text",[n("v-slider",{attrs:{label:"Accuracy",min:"50",max:"100",ticks:"always","tick-size":"2",step:"10","thumb-label":"always","persistent-hint":"",hint:"Increasing this value will decrease mis-recognition, but in trade off, it will require the user to show accurate poses."},on:{change:function(t){return e.change()}},model:{value:e.ac,callback:function(t){e.ac=t},expression:"ac"}})],1)],1),n("v-divider"),n("v-card",[n("v-card-title",[n("h2",[e._v("Credits")])]),n("v-card-text",[n("div",[e._v("All Icons are made by "),n("a",{attrs:{href:"https://www.freepik.com/",title:"Freepik"}},[e._v("Freepik")]),e._v(" from "),n("a",{attrs:{href:"https://www.flaticon.com/",title:"Flaticon"}},[e._v("www.flaticon.com")]),e._v(" is licensed by "),n("a",{attrs:{href:"http://creativecommons.org/licenses/by/3.0/",title:"Creative Commons BY 3.0",target:"_blank"}},[e._v("CC 3.0 BY")])])])],1)],1)},q=[],V=n("cebc"),C=n("2f62"),E={computed:Object(V["a"])({},Object(C["c"])(["user"]),{displayName:function(){return this.user?this.user.displayName:""}}),data:function(){return{value:0,ticksLabels:["0.5","0.75","1.0","1.01"],pm:1,sc:.5,fq:500,ac:70}},methods:{change:function(){console.log(this.pm),chrome.runtime.sendMessage({data:"setting",pmm:this.pm,scm:this.sc,fqm:this.fq,acm:this.ac})}},mounted:function(){var e=this;chrome.runtime.sendMessage({data:"?"},function(t){console.log(t),e.pm=t.pmm,e.sc=t.scm,e.fq=t.fqm,e.ac=t.acm})}},I=E,$=(n("8409"),n("b0af")),M=n("99d9"),P=n("12b2"),A=n("ce7e"),D=n("ba0d"),T=Object(p["a"])(I,R,q,!1,null,"285e80fa",null),B=T.exports;f()(T,{VCard:$["a"],VCardText:M["a"],VCardTitle:P["a"],VDivider:A["a"],VSlider:D["a"]});var U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-btn",{attrs:{color:"primary"},on:{click:e.loginG}},[e._v("signIn")])},F=[],L=(n("96cf"),n("3b8d")),N={name:"Login",computed:Object(V["a"])({},Object(C["b"])(["user"]),{nextRoute:function(){return this.$route.query.redirect||"/"}}),watch:{user:function(e){e&&this.$router.replace(this.nextRoute)}},methods:{loginG:function(){var e=Object(L["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$auth.loginG();case 2:e.sent;case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},z=N,G=Object(p["a"])(z,U,F,!1,null,"3ea474fd",null),W=G.exports;f()(G,{VBtn:m["a"]});var J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.details},scopedSlots:e._u([{key:"items",fn:function(t){return[n("td",[e._v(e._s(t.item.name))]),n("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.Description))]),n("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.Function))])]}}])},[n("template",{slot:"no-data"},[n("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[e._v("\n                Sorry, nothing to display here :(\n            ")])],1)],2)],1)},Y=[],K=(n("ac6a"),{computed:Object(V["a"])({},Object(C["c"])(["user"]),{displayName:function(){return this.user?this.user.displayName:""}}),data:function(){return{headers:[{text:"name",align:"left",sortable:!1,value:"name"},{text:"Description",value:"Description"},{text:"Function",value:"Function"}],details:[]}},methods:{logout:function(){this.$auth.logout(),this.$router.replace({name:"login"})}},created:function(){var e=this,t=this.$db.requireDB();t.collection("poses").onSnapshot(function(t){var n=t.docChanges();n.forEach(function(t){"added"===t.type&&e.details.push(Object(V["a"])({},t.doc.data(),{id:t.doc.id}))}),console.log(e.headers),console.log(e.details)})}}),X=K,H=n("0798"),Q=n("8fea"),Z=Object(p["a"])(X,J,Y,!1,null,"6d24412a",null),ee=Z.exports;f()(Z,{VAlert:H["a"],VDataTable:Q["a"]});var te,ne,re=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},ae=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{attrs:{id:"ifNErr"}},[n("canvas",{attrs:{id:"output",width:"640",height:"480"}})]),n("div",{staticStyle:{display:"none"},attrs:{id:"ifErr"}},[n("p",{attrs:{id:"info"}},[e._v(" Camera access has been denied. If you have camera, you can allow access\n        "),n("a",{attrs:{href:"chrome-extension://pifojknhlbglpfoehbppiddjlgebooom/options.html",target:"_blank"}},[e._v("here")]),e._v("\n        .")])])])}],ie=n("8726"),oe=n("768b"),se=(n("6c7b"),n("0b53"),"aqua"),ce=2;function ue(e){var t=e.y,n=e.x;return[t,n]}function le(e,t,n,r,a){e.beginPath(),e.arc(n,t,r,0,2*Math.PI),e.fillStyle=a,e.fill()}function pe(e,t,n,r,a){var i=Object(oe["a"])(e,2),o=i[0],s=i[1],c=Object(oe["a"])(t,2),u=c[0],l=c[1];a.beginPath(),a.moveTo(s*r,o*r),a.lineTo(l*r,u*r),a.lineWidth=ce,a.strokeStyle=n,a.stroke()}function de(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=ie["a"](e,t);a.forEach(function(e){pe(ue(e[0].position),ue(e[1].position),se,r,n)})}function fe(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=0;a<e.length;a++){var i=e[a];if(!(i.score<t)){var o=i.position,s=o.y,c=o.x;le(n,s*r,c*r,3,se)}}}var he,me=640,ve=480,ge={name:"Mirror",data:function(){return{msg:"Welcome to Your Vue.js App",loading:!0}},methods:{},mounted:function(){var e=Object(L["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ie["c"](1.01);case 2:return te=e.sent,e.prev=3,e.next=6,be();case 6:ne=e.sent,e.next=16;break;case 9:throw e.prev=9,e.t0=e["catch"](3),t=document.getElementById("ifErr"),t.style.display="block",n=document.getElementById("ifNErr"),n.style.display="none",e.t0;case 16:we(ne,te);case 17:case"end":return e.stop()}},e,this,[[3,9]])}));function t(){return e.apply(this,arguments)}return t}(),beforeDestroy:function(){te.dispose(),console.log("disposed")}};function be(){return ye.apply(this,arguments)}function ye(){return ye=Object(L["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){e.next=2;break}throw new Error("Browser API navigator.mediaDevices.getUserMedia not available");case 2:return e.next=4,navigator.mediaDevices.getUserMedia({video:!0,audio:!1});case 4:return he=e.sent,t=document.createElement("video"),t.height=ve,t.width=me,t.srcObject=he,t.play(),e.abrupt("return",t);case 11:case"end":return e.stop()}},e,this)})),ye.apply(this,arguments)}function we(e,t){var n=document.getElementById("output"),r=n.getContext("2d");function a(){return i.apply(this,arguments)}function i(){return i=Object(L["a"])(regeneratorRuntime.mark(function n(){var i;return regeneratorRuntime.wrap(function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.estimateSinglePose(e,.3,!0,16);case 2:i=n.sent,r.clearRect(0,0,me,ve),r.save(),r.scale(-1,1),r.translate(-me,0),r.drawImage(e,0,0,me,ve),r.restore(),i.score>=.1&&(fe(i.keypoints,.3,r),de(i.keypoints,.3,r)),requestAnimationFrame(a);case 11:case"end":return n.stop()}},n,this)})),i.apply(this,arguments)}a()}var xe=ge,_e=Object(p["a"])(xe,re,ae,!1,null,"614b77ec",null),ke=_e.exports;r["a"].use(C["a"]);var je={user:null},Oe={updateUser:function(e,t){var n=t.user;r["a"].set(e,"user",n)}},Se={},Re={user:function(e){return e.user}},qe=new C["a"].Store({state:je,mutations:Oe,actions:Se,getters:Re}),Ve=qe;r["a"].use(S["a"]);var Ce=new S["a"]({routes:[{path:"/setting",name:"setting",component:B,meta:{authRequired:!0}},{path:"/login",name:"login",component:W},{path:"/Mirror",name:"Mirror",component:ke},{path:"/",name:"main",component:ee,meta:{authRequired:!0}}]});Ce.beforeEach(function(e,t,n){e.matched.some(function(e){return e.meta.authRequired})?Ve.state.user?n():n({path:"/login",query:{redirect:e.fullPath}}):n()});var Ee=Ce,Ie=n("31bd"),$e=(n("6b54"),n("8aa5")),Me=n.n($e),Pe=(n("e71f"),{apiKey:"AIzaSyAeizSulUyLs6RoVa82vOW99hw0ldFJqX8",authDomain:"capstone-67677.firebaseapp.com",databaseURL:"https://capstone-67677.firebaseio.com",projectId:"capstone-67677",storageBucket:"capstone-67677.appspot.com",messagingSenderId:"719697691522"}),Ae={install:function(e,t){var n=Me.a.initializeApp(Pe),r=n.auth(),a=n.firestore();e.prototype.$db={requireDB:function(){return a}},e.prototype.$auth={loginG:function(){var e=Object(L["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=new Me.a.auth.GoogleAuthProvider,e.next=3,r.signInWithPopup(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),logout:function(){var e=Object(L["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.signOut();case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},r.onAuthStateChanged(function(e){Ve.commit("updateUser",{user:e}),console.log(e),e&&a.collection("users").doc(e.uid.toString()).set({uid:e.uid,name:e.displayName,email:e.email,photoURL:e.photoURL})})}};n.d(t,"app",function(){return app}),n.d(t,"router",function(){return Ee}),n.d(t,"store",function(){return Ve}),r["a"].use(Ae),r["a"].config.productionTip=!1,Object(Ie["sync"])(Ve,Ee),new r["a"]({router:Ee,store:Ve,render:function(e){return e(O)}}).$mount("#app")},8409:function(e,t,n){"use strict";var r=n("1cb7"),a=n.n(r);a.a}});
//# sourceMappingURL=app.f2461d97.js.map