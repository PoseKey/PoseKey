(function(t){function e(e){for(var a,i,s=e[0],c=e[1],l=e[2],d=0,p=[];d<s.length;d++)i=s[d],o[i]&&p.push(o[i][0]),o[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(p.length)p.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(a=!1)}a&&(r.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},o={app:0},r=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;r.push([1,"chunk-vendors"]),n()})({0:function(t,e){},"0b8e":function(t,e,n){},1:function(t,e,n){t.exports=n("56d7")},2:function(t,e){},"2b34":function(t,e,n){"use strict";var a=n("44ad"),o=n.n(a);o.a},3:function(t,e){},4:function(t,e){},"44ad":function(t,e,n){},5:function(t,e){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),o=n("bb71");n("da64");a["a"].use(o["a"],{iconfont:"md",theme:{primary:"#1D3557",secondary:"#457B9D",accent:"#F45353",button:"FFEBEE"}});n("6b54"),n("96cf");var r=n("3b8d"),i=n("2f62");a["a"].use(i["a"]);var s=new i["a"].Store({state:{user:null},mutations:{updateUser:function(t,e){var n=e.user;a["a"].set(t,"user",n)}},actions:{},getters:{user:function(t){return t.user}}}),c=n("8aa5"),l=n.n(c),u=(n("e71f"),{apiKey:"AIzaSyAeizSulUyLs6RoVa82vOW99hw0ldFJqX8",authDomain:"capstone-67677.firebaseapp.com",databaseURL:"https://capstone-67677.firebaseio.com",projectId:"capstone-67677",storageBucket:"capstone-67677.appspot.com",messagingSenderId:"719697691522"}),d={install:function(t,e){var n=l.a.initializeApp(u),a=n.auth(),o=n.firestore();t.prototype.$db={requireDB:function(){return o}},t.prototype.$auth={loginG:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=new l.a.auth.GoogleAuthProvider,t.next=3,a.signInWithPopup(e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}(),logout:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a.signOut();case 2:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}()},a.onAuthStateChanged(function(t){s.commit("updateUser",{user:t}),t&&o.collection("users").doc(t.uid.toString()).set({uid:t.uid,name:t.displayName,email:t.email,photoURL:t.photoURL})})}},p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-toolbar",{attrs:{app:"",dark:"",color:"primary"}},[n("v-toolbar-title",[n("span",[t._v("PoseKey")])]),n("v-spacer"),n("v-btn",{attrs:{flat:""}},[n("span",{staticClass:"font-weight-light subheading"},[t._v("Options Page")])]),n("v-tabs",{attrs:{slot:"extension",color:"primary","slider-color":"accent",centered:""},slot:"extension"},[n("v-tab",{attrs:{to:"/"}},[t._v("\n        Model\n      ")]),n("v-tab",{attrs:{to:"/function"}},[t._v("\n        Functions\n      ")]),n("v-tab",{attrs:{to:"/setting"}},[t._v("\n        Settings\n      ")]),n("v-tab",{attrs:{to:"/upload"}},[t._v("\n        Upload\n      ")])],1)],1),n("v-container",{staticStyle:{"margin-top":"120px"}},[n("router-view")],1)],1)},m=[],v={name:"App",components:{},data:function(){return{}}},h=v,f=(n("2b34"),n("2877")),g=n("6544"),b=n.n(g),y=n("7496"),w=n("8336"),x=n("a523"),_=n("9910"),k=n("71a3"),C=n("fe57"),D=n("71d9"),V=n("2a7f"),S=Object(f["a"])(h,p,m,!1,null,"4f481053",null),O=S.exports;b()(S,{VApp:y["a"],VBtn:w["a"],VContainer:x["a"],VSpacer:_["a"],VTab:k["a"],VTabs:C["a"],VToolbar:D["a"],VToolbarTitle:V["a"]});var j=n("8c4f"),P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{row:"",wrap:""}},[n("Logout"),n("v-flex",{staticStyle:{padding:"5px"}},[n("v-card",{attrs:{"min-width":"640",hover:""}},[n("v-card-title",[n("h2",[t._v("Mirror")]),n("v-spacer"),n("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(e){return[n("v-icon",t._g({attrs:{color:"primary"}},e.on),[t._v("help")])]}}])},[n("span",[t._v("\n                        Make sure you are well taken on the Mirror tab!\n                        "),n("br"),t._v("\n                        The upper body including the face and arms should be seen. Please look at the screen and move to the proper distance."),n("br")])])],1),n("v-divider"),n("v-card-text",[n("canvas",{attrs:{id:"output",width:"640",height:"480"}})])],1)],1),n("v-flex",{staticStyle:{padding:"5px"},attrs:{"d-flex":""}},[n("v-card",{attrs:{"min-width":"640",hover:""}},[n("v-card-title",[n("h2",[t._v("Custom Model")]),n("v-spacer"),n("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(e){return[n("v-icon",t._g({attrs:{color:"primary"}},e.on),[t._v("help")])]}}])},[n("span",[t._v("\n                Here you can train your own model."),n("br"),t._v("\n                If this is your first time, the default model will be copied to your custom model"),n("br"),t._v('\n                To change the pose, first, press "Clear" to reset the selected pose'),n("br"),t._v('\n                Then look at the Mirror tab and take your own pose and press "TRAIN". You should press the button for more than 10 seconds.'),n("br"),t._v("\n                Please train the model until the Example Count reaches more than 100"),n("br"),t._v("\n                Be aware that training with a pose that is similar to other poses will result in lower recognition rates."),n("br"),t._v("\n                You must press 'SAVE' to complete the learning process and save the model."),n("br"),t._v("\n                You also can press 'RESET' to erase your model and copy the default model."),n("br")])])],1),n("v-divider"),n("v-window",{model:{value:t.aws,callback:function(e){t.aws=e},expression:"aws"}},[n("v-window-item",{attrs:{value:!1}},[n("v-card-text",[t._v("\n          PoseKey encourages users to use Posekey in creative ways!"),n("br"),t._v("\n          Therefore users can change default poses into their own unique poses by using a custom AI model."),n("br"),t._v("\n          You only need to press few buttons to train your own AI model."),n("br"),t._v("\n          To create a "),n("strong",[t._v("custom model")]),t._v(", please click the button below!"),n("br"),t._v("\n          Default model can still be used that you can change the setting in popup page."),n("br"),n("br"),n("v-btn",{attrs:{round:"",color:"primary"},on:{click:function(e){return t.createModel()}}},[t._v("Custom Model")])],1)],1),n("v-window-item",{attrs:{value:!0}},[n("br"),n("v-card-text",[n("span",{staticStyle:{"font-size":"20pt"}},[t._v(t._s(t.curr))])]),n("v-list",{attrs:{subheader:""}},t._l(t.customd,function(e){return n("v-list-tile",{key:e.id,attrs:{avatar:""}},[n("v-list-tile-content",[n("v-form",{ref:"form",refInFor:!0},[n("v-text-field",{attrs:{label:"Describe your pose please"},model:{value:e.Description,callback:function(n){t.$set(e,"Description",n)},expression:"item.Description"}})],1)],1),n("span",{attrs:{color:"secondary"}},[t._v("Example Count: "+t._s(e.count))]),n("v-btn",{attrs:{flat:"",color:"accent"},on:{click:function(n){t.clearClass(n,e.id)}}},[t._v("Clear")]),n("v-btn",{attrs:{flat:"",color:"secondary"},on:{mousedown:function(n){t.trainClass(n,e.id)},mouseup:function(n){t.trainClass(n,-1),t.updateCount(e.id)}}},[t._v("Train")])],1)}),1),n("v-card-actions",{staticStyle:{"justify-content":"flex-end"}},[n("div",[n("v-btn",{staticStyle:{"margin-right":"18px"},attrs:{round:"",outline:"",dark:"",color:"accent"},on:{click:t.save}},[t._v("Save")]),n("v-btn",{staticStyle:{"margin-right":"18px"},attrs:{round:"",outline:"",dark:"",color:"accent"},on:{click:t.reset}},[t._v("Reset")])],1)])],1)],1)],1)],1)],1)},I=[],R=(n("7f7f"),n("cebc")),T=(n("ac6a"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-flex",{attrs:{xs12:""}},[n("div",{staticStyle:{"text-align":"end"}},[n("v-avatar",{attrs:{size:"30"}},[n("img",{attrs:{src:this.user.photoURL,alt:"avatar"}})]),t._v("\n    "+t._s(t.displayName)+"\n    "),n("v-btn",{attrs:{round:"",outline:"",color:"accent"},on:{click:t.logout}},[t._v("Log out")])],1)])}),M=[],q=(n("a481"),{computed:Object(R["a"])({},Object(i["c"])(["user"]),{displayName:function(){return this.user?this.user.displayName:""}}),methods:{logout:function(){this.$auth.logout(),this.$router.replace({name:"login"})}}}),B=q,E=n("8212"),L=n("0e8f"),A=Object(f["a"])(B,T,M,!1,null,"4d02c07a",null),$=A.exports;b()(A,{VAvatar:E["a"],VBtn:w["a"],VFlex:L["a"]});var F=n("8726"),U=n("768b"),z=(n("6c7b"),n("0b53")),Y=["Red","lime","blue"],N=10;function W(t){var e=t.y,n=t.x;return[e,n]}function G(t,e,n,a,o){t.beginPath(),t.arc(n,e,a,0,2*Math.PI),t.fillStyle=o,t.fill()}function K(t,e,n,a,o){var r=Object(U["a"])(t,2),i=r[0],s=r[1],c=Object(U["a"])(e,2),l=c[0],u=c[1];o.beginPath(),o.moveTo(s*a,i*a),o.lineTo(u*a,l*a),o.lineWidth=N,o.strokeStyle=n,o.stroke()}function J(t,e,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=(F["a"](t,e),t[5]),r=t[6],i=t[7],s=t[8],c=t[9],l=t[10],u=t[11],d=t[12];i.score>e&&c.score>e&&K(W(i.position),W(c.position),Y[0],a,n),o.score>e&&i.score>e&&K(W(o.position),W(i.position),Y[0],a,n),o.score>e&&u.score>e&&K(W(o.position),W(u.position),Y[1],a,n),o.score>e&&r.score>e&&K(W(o.position),W(r.position),Y[1],a,n),u.score>e&&d.score>e&&K(W(u.position),W(d.position),Y[1],a,n),r.score>e&&d.score>e&&K(W(r.position),W(d.position),Y[1],a,n),r.score>e&&s.score>e&&K(W(r.position),W(s.position),Y[2],a,n),s.score>e&&l.score>e&&K(W(s.position),W(l.position),Y[2],a,n)}function H(t,e,n){for(var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=0;o<t.length;o++){var r=t[o];if(!(r.score<e)){var i=r.position,s=i.y,c=i.x;G(n,s*a,c*a,3,Y)}}}var X,Q,Z,tt,et,nt,at,ot,rt,it=n("837b"),st=n("be50"),ct=640,lt=480,ut=[],dt=[],pt=-1,mt={components:{Logout:$},data:function(){return{customd:[],details:[],step:1,sc:.5,pm:1,curr:"",aws:!1}},methods:{clearClass:function(t,e){Q.clearClass(e),this.customd[e-1].count=0},trainClass:function(t,e){pt=e},updateCount:function(t){var e=Q.getClassExampleCount();console.log(t),this.customd[t-1].count=e[t]},save:function(){var t=this.$db.requireDB(),e=s.state.user.uid;this.saveModel(e),t.collection("users").doc(e).collection("model").doc("map").update({customd:this.customd})},reset:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,n,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$db.requireDB(),n=s.state.user.uid,Q.dispose(),Q=st["a"](),t.next=6,bt();case 6:for(a=1;a<7;a++)this.updateCount(a);e.collection("users").doc(n).collection("model").doc("map").update({customd:this.customd});case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),saveModel:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ft(Q);case 2:n=t.sent,n.save("downloads://model");case 4:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}(),createModel:function(){this.aws=!0},detectPose:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,n,a,o,r,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,X.estimateSinglePose(tt,this.sc,!0,16);case 2:if(e=t.sent,at.clearRect(0,0,ct,lt),at.save(),at.scale(-1,1),at.translate(-ct,0),at.drawImage(tt,0,0,ct,lt),at.restore(),rt.clearRect(0,0,ct,lt),e.score>=.1&&(H(e.keypoints,.5,at),J(e.keypoints,.5,at),H(e.keypoints,.5,rt),J(e.keypoints,.5,rt)),n=z["browser"].fromPixels(ot),o=function(){return Z.infer(n,"conv_preds")},r=Q.getNumClasses(),!(r>0)){t.next=20;break}return a=o(),t.next=18,Q.predictClass(a,10);case 18:i=t.sent,i.classIndex>=1&&i.classIndex<=6?this.curr=this.customd[i.classIndex-1].Description+": "+100*i.confidences[i.classIndex]+"%":this.curr="Idle: "+100*i.confidences[i.classIndex]+"%";case 20:-1!=pt&&(a=o(),Q.addExample(a,pt),Q.getClassExampleCount()),n.dispose(),null!=a&&a.dispose(),requestAnimationFrame(this.detectPose);case 24:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,n,a,o=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.$db.requireDB(),n=s.state.user.uid,e.collection("users").doc(n).collection("model").doc("map").get().then(function(t){t.exists?(o.customd=t.data().customd,o.aws=t.data().aws):(e.collection("users").doc(n).collection("model").doc("map").set({custom:!1,defaults:[null,null,null,null,null,null],customs:[null,null,null,null,null,null],customd:[{Description:"Pose 1",id:1,count:0},{Description:"Pose 2",id:2,count:0},{Description:"Pose 3",id:3,count:0},{Description:"Pose 4",id:4,count:0},{Description:"Pose 5",id:5,count:0},{Description:"Pose 6",id:6,count:0}],aws:!1}),o.customd=[{Description:"Pose 1",id:1,count:0},{Description:"Pose 2",id:2,count:0},{Description:"Pose 3",id:3,count:0},{Description:"Pose 4",id:4,count:0},{Description:"Pose 5",id:5,count:0},{Description:"Pose 6",id:6,count:0}],o.aws=!1)}),e.collection("poses").onSnapshot(function(t){var e=t.docChanges();e.forEach(function(t){"added"===t.type&&o.details.push(Object(R["a"])({},t.doc.data(),{id:t.doc.id}))})}),chrome.runtime.sendMessage({data:"login",uidm:n}),z["disableDeprecationWarnings"](),t.prev=6,t.next=9,vt();case 9:tt=t.sent,t.next=15;break;case 12:throw t.prev=12,t.t0=t["catch"](6),t.t0;case 15:return ot=document.createElement("canvas"),ot.height=lt,ot.width=ct,rt=ot.getContext("2d"),nt=document.getElementById("output"),at=nt.getContext("2d"),Q=st["a"](),t.next=24,it["a"]();case 24:if(Z=t.sent,1!=this.aws){t.next=30;break}return t.next=28,wt(n);case 28:t.next=32;break;case 30:return t.next=32,bt();case 32:for(a=1;a<7;a++)this.updateCount(a);e.collection("users").doc(n).collection("model").doc("setting").get().then(function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!e.exists){t.next=12;break}t.t0=e.data().pm,t.next=0===t.t0?4:1===t.t0?6:2===t.t0?8:10;break;case 4:return o.pm=.5,t.abrupt("break",11);case 6:return o.pm=.75,t.abrupt("break",11);case 8:return o.pm=1,t.abrupt("break",11);case 10:o.pm=1.01;case 11:o.sc=e.data().sc;case 12:return t.next=14,F["c"](o.pm);case 14:X=t.sent,o.detectPose();case 16:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}());case 34:case"end":return t.stop()}},t,this,[[6,12]])}));function e(){return t.apply(this,arguments)}return e}(),beforeDestroy:function(){X.dispose(),Q.dispose(),tt.pause(),tt.srcObject=null,et.getTracks().forEach(function(t){t.stop()})}};function vt(){return ht.apply(this,arguments)}function ht(){return ht=Object(r["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){t.next=2;break}throw new Error("Browser API navigator.mediaDevices.getUserMedia not available");case 2:return t.next=4,navigator.mediaDevices.getUserMedia({video:!0,audio:!1});case 4:return et=t.sent,e=document.createElement("video"),e.height=lt,e.width=ct,e.srcObject=et,e.play(),t.abrupt("return",e);case 11:case"end":return t.stop()}},t)})),ht.apply(this,arguments)}function ft(t){return gt.apply(this,arguments)}function gt(){return gt=Object(r["a"])(regeneratorRuntime.mark(function t(e){var n,a,o,r,i,s,c,l;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:for(n=[],n[0]=[],n[1]=[],n[2]=[],n[3]=[],a=e.getNumClasses(),o=0;o<a;o++)n[0][o]="myInput"+o,n[1][o]=z["input"]({shape:e.getClassifierDataset()[o].shape[0],name:n[1][o]}),n[2][o]="myInput"+o+"Dense1",n[3][o]=z["layers"].dense({units:1e3,name:dt[o]}).apply(n[1][o]);r=z["layers"].concatenate({axis:1,name:"myConcatenate1"}).apply(n[3]),i=z["layers"].dense({units:1,name:"myConcatenate1Dense4"}).apply(r),s=z["model"]({inputs:n[1],outputs:i}),s.summary(),c=0;case 12:if(!(c<a)){t.next=20;break}return t.next=15,e.getClassifierDataset()[c];case 15:l=t.sent,s.layers[c+a].setWeights([l,z["ones"]([1e3])]);case 17:c++,t.next=12;break;case 20:return t.abrupt("return",s);case 21:case"end":return t.stop()}},t)})),gt.apply(this,arguments)}function bt(){return yt.apply(this,arguments)}function yt(){return yt=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,n,a,o,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,z["loadLayersModel"]("https://s3.ap-northeast-2.amazonaws.com/ai-models/model.json");case 2:for(e=t.sent,n=e.layers.length,a=n-2,o=a/2,r=o;r<a;r++)ut[r-o]=e.layers[r].getWeights()[0],dt[r-o]=e.layers[r].name;Q.dispose(),Q.setClassifierDataset(ut);case 9:case"end":return t.stop()}},t)})),yt.apply(this,arguments)}function wt(t){return xt.apply(this,arguments)}function xt(){return xt=Object(r["a"])(regeneratorRuntime.mark(function t(e){var n,a,o,r,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,z["loadLayersModel"]("https://s3.ap-northeast-2.amazonaws.com/ai-models/user/"+e+"/model.json");case 2:for(n=t.sent,a=n.layers.length,o=a-2,r=o/2,i=r;i<o;i++)ut[i-r]=n.layers[i].getWeights()[0],dt[i-r]=n.layers[i].name;Q.dispose(),Q.setClassifierDataset(ut);case 9:case"end":return t.stop()}},t)})),xt.apply(this,arguments)}var _t=mt,kt=n("b0af"),Ct=n("99d9"),Dt=n("12b2"),Vt=n("ce7e"),St=n("4bd4"),Ot=n("132d"),jt=n("a722"),Pt=n("8860"),It=n("ba95"),Rt=n("5d23"),Tt=n("2677"),Mt=n("3a2f"),qt=n("f665"),Bt=n("1e6c"),Et=Object(f["a"])(_t,P,I,!1,null,"0a66a822",null),Lt=Et.exports;b()(Et,{VBtn:w["a"],VCard:kt["a"],VCardActions:Ct["a"],VCardText:Ct["b"],VCardTitle:Dt["a"],VDivider:Vt["a"],VFlex:L["a"],VForm:St["a"],VIcon:Ot["a"],VLayout:jt["a"],VList:Pt["a"],VListTile:It["a"],VListTileContent:Rt["a"],VSpacer:_["a"],VTextField:Tt["a"],VTooltip:Mt["a"],VWindow:qt["a"],VWindowItem:Bt["a"]});var At,$t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{staticStyle:{padding:"5px"},attrs:{"d-flex":""}},[n("v-card",{attrs:{hover:""}},[n("canvas",{attrs:{id:"video",width:"640",height:"480"}})])],1),n("v-flex",{staticStyle:{padding:"5px"},attrs:{"d-flex":""}},[n("LoginCard")],1)],1)},Ft=[],Ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{attrs:{hover:""}},[n("v-card-title",[n("h2",[t._v("Please Sign in to Proceed")])]),n("v-card-text",[n("v-list",[n("v-btn",{attrs:{color:"accent",outline:"",round:""},on:{click:t.loginG}},[t._v("\n                Sign in with Google\n            ")])],1)],1),n("v-card-title",[n("h2",[t._v("Credits")]),n("v-spacer"),n("v-icon",{attrs:{color:"primary"}},[t._v("help")])],1),n("v-card-text",[n("div",[t._v("All Icons are made by "),n("a",{attrs:{href:"https://www.freepik.com/",title:"Freepik"}},[t._v("Freepik")]),t._v(" from "),n("a",{attrs:{href:"https://www.flaticon.com/",title:"Flaticon"}},[t._v("www.flaticon.com")]),t._v(" is licensed by "),n("a",{attrs:{href:"http://creativecommons.org/licenses/by/3.0/",title:"Creative Commons BY 3.0",target:"_blank"}},[t._v("CC 3.0 BY")])])])],1)},zt=[],Yt={name:"Login",computed:Object(R["a"])({},Object(i["b"])(["user"]),{nextRoute:function(){return this.$route.query.redirect||"/"}}),watch:{user:function(t){t&&this.$router.replace(this.nextRoute)}},methods:{loginG:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$auth.loginG();case 2:t.sent;case 3:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){chrome.runtime.sendMessage({data:"logout"})}},Nt=Yt,Wt=Object(f["a"])(Nt,Ut,zt,!1,null,"710d0b2e",null),Gt=Wt.exports;b()(Wt,{VBtn:w["a"],VCard:kt["a"],VCardText:Ct["b"],VCardTitle:Dt["a"],VIcon:Ot["a"],VList:Pt["a"],VSpacer:_["a"]});var Kt,Jt,Ht,Xt=640,Qt=480,Zt={components:{LoginCard:Gt},mounted:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,te();case 3:At=t.sent,t.next=9;break;case 6:throw t.prev=6,t.t0=t["catch"](0),t.t0;case 9:Jt=document.getElementById("video"),null!=Jt&&(Ht=Jt.getContext("2d")),ne(At),chrome.runtime.sendMessage({data:"logout"});case 13:case"end":return t.stop()}},t,null,[[0,6]])}));function e(){return t.apply(this,arguments)}return e}(),destroyed:function(){net&&net.dispose(),At.pause(),At.srcObject=null,Kt.getTracks().forEach(function(t){t.stop()})}};function te(){return ee.apply(this,arguments)}function ee(){return ee=Object(r["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){t.next=2;break}throw new Error("Browser API navigator.mediaDevices.getUserMedia not available");case 2:return t.next=4,navigator.mediaDevices.getUserMedia({video:!0,audio:!1});case 4:return Kt=t.sent,e=document.createElement("video"),e.height=Qt,e.width=Xt,e.srcObject=Kt,e.play(),t.abrupt("return",e);case 11:case"end":return t.stop()}},t)})),ee.apply(this,arguments)}function ne(t){function e(){return n.apply(this,arguments)}function n(){return n=Object(r["a"])(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){while(1)switch(n.prev=n.next){case 0:Ht.clearRect(0,0,Xt,Qt),Ht.save(),Ht.scale(-1,1),Ht.translate(-Xt,0),Ht.drawImage(t,0,0,Xt,Qt),Ht.restore(),requestAnimationFrame(e);case 7:case"end":return n.stop()}},n)})),n.apply(this,arguments)}e()}var ae=Zt,oe=Object(f["a"])(ae,$t,Ft,!1,null,"72a40dae",null),re=oe.exports;b()(oe,{VCard:kt["a"],VFlex:L["a"],VLayout:jt["a"]});var ie=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{row:"",wrap:""}},[n("Logout"),n("v-flex",{staticStyle:{padding:"5px"},attrs:{xs12:""}},[n("v-card",{attrs:{hover:""}},[n("v-card-title",[n("h2",[t._v("Customize")]),n("v-spacer"),n("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(e){return[n("v-icon",t._g({attrs:{color:"primary"}},e.on),[t._v("help")])]}}])},[n("span",[t._v("\n                        You can use your own trained model.\n                    ")])])],1),n("v-card-text",[n("v-list",[n("v-list-tile",{attrs:{ripple:""}},[n("v-list-tile-title",[t._v("\n                            Activate Custom Model\n                        ")]),n("v-list-tile-action",[n("v-switch",{nativeOn:{click:function(e){return t.toggle(e)}},model:{value:t.custom,callback:function(e){t.custom=e},expression:"custom"}})],1)],1)],1)],1)],1)],1),n("v-flex",{staticStyle:{padding:"5px"},attrs:{"d-flex":""}},[n("v-card",{attrs:{"min-width":"640",hover:""}},[n("v-card-title",[n("h2",[t._v("Default Model Setting")]),n("v-spacer"),n("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(e){return[n("v-icon",t._g({attrs:{color:"primary"}},e.on),[t._v("help")])]}}])},[n("span",[t._v("\n                        You can match the functions of the browser you want with the pose of the default AI model. "),n("br"),t._v("\n                        Set the function you want with the given poses on the left.\n                    ")])])],1),n("v-card-text",[n("v-list",t._l(t.details,function(e){return n("v-list-tile",{key:e.name,staticStyle:{"margin-top":"12px"}},[n("v-list-tile-avatar",[n("img",{attrs:{src:e.image}})]),n("v-list-tile-content",[n("v-list-tile-title",{domProps:{textContent:t._s(e.Description)}})],1),n("v-list-tile-action",[n("v-overflow-btn",{staticStyle:{width:"250px"},attrs:{"background-color":"button",color:"accent",items:t.options,label:"Functions","item-value":"text","single-line":"",clearable:"",dense:"","return-object":""},on:{change:function(n){return t.switchd(e.id-1)}},model:{value:t.defaults[e.id-1],callback:function(n){t.$set(t.defaults,e.id-1,n)},expression:"defaults[item.id - 1]"}})],1)],1)}),1)],1)],1)],1),n("v-flex",{staticStyle:{padding:"5px"},attrs:{"d-flex":""}},[n("v-card",{attrs:{"min-width":"640","min-height":"470",hover:""}},[n("v-card-title",[n("h2",[t._v("Custom Model Setting")]),n("v-spacer"),n("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(e){return[n("v-icon",t._g({attrs:{color:"primary"}},e.on),[t._v("help")])]}}])},[n("span",[t._v("\n                        You can match the function with your own custom trained model."),n("br"),t._v("\n                        If you haven't created your own model, use the default model or click the 'OPTION PAGE' button below."),n("br"),t._v("\n                        You can create a custom model in the option page.\n                    ")])])],1),n("v-card-text",{directives:[{name:"show",rawName:"v-show",value:t.aws,expression:"aws"}]},[n("v-list",t._l(t.customd,function(e){return n("v-list-tile",{key:e.id,staticStyle:{"margin-top":"12px"}},[n("v-list-tile-content",[n("v-list-tile-title",{staticStyle:{width:"200px"},domProps:{textContent:t._s(e.Description)}})],1),n("v-list-tile-action",[n("v-overflow-btn",{staticStyle:{width:"250px"},attrs:{"background-color":"button",color:"accent",items:t.options,label:"Functions","item-value":"text","single-line":"",clearable:"",dense:"","return-object":""},on:{change:function(n){return t.switchc(e.id-1)}},model:{value:t.customs[e.id-1],callback:function(n){t.$set(t.customs,e.id-1,n)},expression:"customs[item.id - 1]"}})],1)],1)}),1)],1),n("v-card-text",{directives:[{name:"show",rawName:"v-show",value:!t.aws,expression:"!aws"}]},[t._v("\n                You have not created your own "),n("strong",[t._v("Custom model")]),t._v("!"),n("br"),t._v("\n                PoseKey encourage users to make their own unique poses that could be mapped with each functions! "),n("br"),t._v("\n                First, you should create a custom model in the "),n("strong",[t._v("Model")]),t._v(" section(tab). "),n("br"),t._v("\n                After you create your own model, you can than connect your poses to trigger web browsing functions."),n("br"),t._v("\n                You also can change the mapped functions anytime at popup page!\n                "),n("br"),n("br"),n("br"),n("br"),n("v-btn",{attrs:{color:"primary",round:"",to:"/"}},[t._v("Create Model!")])],1)],1)],1)],1)},se=[],ce={components:{Logout:$},data:function(){return{customd:[],details:[],options:["volume down","volume up","stop video","forward 10sec","backward 10sec","next video","scroll up","scroll down","previous slide","next slide","go to top","go to bottom","close tab","move tab left","move tab right","close window","zoom-in","zoom-out","zoom-reset","back","forward","reload"],custom:!1,defaults:[],customs:[],aws:!1}},methods:{switchd:function(t){void 0==this.defaults[t]&&(this.defaults[t]=null);var e=this.$db.requireDB(),n=s.state.user.uid;e.collection("users").doc(n).collection("model").doc("map").update({defaults:this.defaults}),chrome.runtime.sendMessage({data:"poses",customm:this.custom,defaultsm:this.defaults,customsm:this.customs})},switchc:function(t){void 0==this.customs[t]&&(this.customs[t]=null);var e=this.$db.requireDB(),n=s.state.user.uid;e.collection("users").doc(n).collection("model").doc("map").update({customs:this.customs,customd:this.customd}),chrome.runtime.sendMessage({data:"poses",customm:this.custom,defaultsm:this.defaults,customsm:this.customs})},toggle:function(){var t=this.$db.requireDB(),e=s.state.user.uid;this.custom?t.collection("users").doc(e).collection("model").doc("map").update({custom:!0}):t.collection("users").doc(e).collection("model").doc("map").update({custom:!1})}},mounted:function(){var t=this,e=this.$db.requireDB(),n=s.state.user.uid;e.collection("poses").onSnapshot(function(e){var n=e.docChanges();n.forEach(function(e){"added"===e.type&&t.details.push(Object(R["a"])({},e.doc.data(),{id:e.doc.id}))})}),e.collection("users").doc(n).collection("model").doc("map").get().then(function(a){a.exists?(t.defaults=a.data().defaults,t.customs=a.data().customs,t.customd=a.data().customd,t.custom=a.data().custom,t.aws=a.data().aws):(e.collection("users").doc(n).collection("model").doc("map").set({custom:!1,defaults:[null,null,null,null,null,null],customs:[null,null,null,null,null,null],customd:[{Description:"Pose 1",id:1},{Description:"Pose 2",id:2},{Description:"Pose 3",id:3},{Description:"Pose 4",id:4},{Description:"Pose 5",id:5},{Description:"Pose 6",id:6}],aws:!1}),t.defaults=[null,null,null,null,null,null],t.customs=[null,null,null,null,null,null],t.customd=[{Description:"Pose 1",id:1},{Description:"Pose 2",id:2},{Description:"Pose 3",id:3},{Description:"Pose 4",id:4},{Description:"Pose 5",id:5},{Description:"Pose 6",id:6}],t.custom=!1,t.aws=!1)}),chrome.runtime.sendMessage({data:"login",uidm:n},function(e){console.log(e),t.custom=e.customm})}},le=ce,ue=n("40fe"),de=n("c954"),pe=n("de8e"),me=n("b73d"),ve=Object(f["a"])(le,ie,se,!1,null,"169e5412",null),he=ve.exports;b()(ve,{VBtn:w["a"],VCard:kt["a"],VCardText:Ct["b"],VCardTitle:Dt["a"],VFlex:L["a"],VIcon:Ot["a"],VLayout:jt["a"],VList:Pt["a"],VListTile:It["a"],VListTileAction:ue["a"],VListTileAvatar:de["a"],VListTileContent:Rt["a"],VListTileTitle:Rt["b"],VOverflowBtn:pe["a"],VSpacer:_["a"],VSwitch:me["a"],VTooltip:Mt["a"]});var fe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{row:"",wrap:""}},[n("Logout"),n("v-flex",{staticStyle:{padding:"5px"},attrs:{"d-flex":""}},[n("v-card",{attrs:{"min-width":"640",hover:""}},[n("v-card-title",[n("h2",[t._v("AI Model Setting")]),n("v-spacer"),n("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(e){return[n("v-icon",t._g({attrs:{color:"primary"}},e.on),[t._v("help")])]}}])},[n("span",[t._v("\n                        This tab provides configuration options for the AI model running in your web browser."),n("br"),t._v("\n                        Recommended Settings are as followed:"),n("br"),t._v("\n                        posenet model: 0.75 "),n("br"),t._v("\n                        image scale: 0.4 "),n("br"),t._v("\n                        frequency: 0.5 "),n("br"),t._v("\n                        accuracy: 0.6"),n("br"),n("br"),t._v("\n                        However, if your device lags too much, you should try lowering the function."),n("br")])])],1),n("v-divider"),n("v-card-text",[n("v-slider",{attrs:{color:"secondary","thumb-color":"accent",label:"posenet model","tick-labels":t.ticksLabels,max:3,step:"1",ticks:"always","tick-size":"2","persistent-hint":"",hint:"Increasing this value will detect your pose better, but this will also increase the delay of loading websites."},on:{change:function(e){return t.change()}},model:{value:t.pm,callback:function(e){t.pm=e},expression:"pm"}})],1),n("v-card-text",[n("v-slider",{attrs:{color:"secondary","thumb-color":"accent",label:"image scale",step:"0.01",min:"0.2",max:"1.0","thumb-label":"always","persistent-hint":"",hint:"Increasing this value will detect your pose better, but this may cause the computer to lag"},on:{change:function(e){return t.change()}},model:{value:t.sc,callback:function(e){t.sc=e},expression:"sc"}})],1),n("v-card-text",[n("v-slider",{attrs:{color:"secondary","thumb-color":"accent",label:"frequency",step:"100",min:"100",max:"1000","thumb-label":"always","persistent-hint":"",hint:"Increasing this value will detect your pose faster, but this might cause the computer to lag."},on:{change:function(e){return t.change()}},model:{value:t.fq,callback:function(e){t.fq=e},expression:"fq"}})],1),n("v-card-text",[n("v-slider",{attrs:{color:"secondary","thumb-color":"accent",label:"Accuracy",min:"50",max:"100",ticks:"always","tick-size":"2",step:"10","thumb-label":"always","persistent-hint":"",hint:"Increasing this value will decrease mis-recognition, but in trade off, it will require the user to show accurate poses."},on:{change:function(e){return t.change()}},model:{value:t.ac,callback:function(e){t.ac=e},expression:"ac"}})],1)],1)],1),n("v-flex",{staticStyle:{padding:"5px"},attrs:{"d-flex":""}},[n("v-card",{attrs:{"min-width":"640",hover:""}},[n("v-card-title",[n("h2",[t._v("Interface Setting")]),n("v-spacer"),n("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(e){return[n("v-icon",t._g({attrs:{color:"primary"}},e.on),[t._v("help")])]}}])},[n("span",[t._v("\n                    This setting allows you to change colors and location of the directive interface."),n("br"),t._v("\n                    The palette beside the control panel shows you the color before you actually apply.\n                ")])])],1),n("v-divider"),n("v-card-text",[n("div",{staticStyle:{display:"flex"}},[n("v-container",{staticStyle:{width:"279px"}},[n("v-slider",{attrs:{color:"red","thumb-color":"accent",label:"Red",min:"0",max:"255","thumb-label":"always"},on:{change:function(e){return t.fill()}},model:{value:t.ri,callback:function(e){t.ri=e},expression:"ri"}}),n("v-slider",{attrs:{color:"green","thumb-color":"accent",label:"Green",min:"0",max:"255","thumb-label":"always"},on:{change:function(e){return t.fill()}},model:{value:t.gi,callback:function(e){t.gi=e},expression:"gi"}}),n("v-slider",{attrs:{color:"blue","thumb-color":"accent",label:"Blue",min:"0",max:"255","thumb-label":"always"},on:{change:function(e){return t.fill()}},model:{value:t.bi,callback:function(e){t.bi=e},expression:"bi"}}),n("v-slider",{attrs:{color:"grey","thumb-color":"accent",label:"Transparency",min:"0",max:"1",step:"0.1","thumb-label":"always"},on:{change:function(e){return t.opacity()}},model:{value:t.ti,callback:function(e){t.ti=e},expression:"ti"}})],1),n("v-container",{staticStyle:{width:"279px","align-item":"center"}},[n("v-checkbox",{attrs:{label:"Top"},on:{change:function(e){return t.interfaceIO()}},model:{value:t.vi,callback:function(e){t.vi=e},expression:"vi"}}),n("v-checkbox",{attrs:{label:"Left"},on:{change:function(e){return t.interfaceIO()}},model:{value:t.hi,callback:function(e){t.hi=e},expression:"hi"}}),n("v-checkbox",{attrs:{label:"Interface ON/OFF"},on:{change:function(e){return t.interfaceIO()}},model:{value:t.isDialog,callback:function(e){t.isDialog=e},expression:"isDialog"}}),n("h5",[t._v("Color Preview")]),n("canvas",{staticStyle:{width:"250px"},attrs:{id:"cvs"}})],1)],1)])],1)],1),n("v-flex",{staticStyle:{padding:"5px"},attrs:{"d-flex":""}},[n("v-card",{attrs:{"min-width":"640",hover:""}},[n("v-card-title",[n("h2",[t._v("Credits")]),n("v-spacer"),n("v-tooltip",{attrs:{right:""},scopedSlots:t._u([{key:"activator",fn:function(e){return[n("v-icon",t._g({attrs:{color:"primary"}},e.on),[t._v("help")])]}}])},[n("span",[t._v("\n                        Copyrights, Credits, and Special thanks\n                    ")])])],1),n("v-divider"),n("v-card-text",[n("div",[t._v("All Icons are made by "),n("a",{attrs:{href:"https://www.freepik.com/",title:"Freepik"}},[t._v("Freepik")]),t._v(" from "),n("a",{attrs:{href:"https://www.flaticon.com/",title:"Flaticon"}},[t._v("www.flaticon.com")]),t._v(" is licensed by "),n("a",{attrs:{href:"http://creativecommons.org/licenses/by/3.0/",title:"Creative Commons BY 3.0",target:"_blank"}},[t._v("CC 3.0 BY")])]),n("br"),t._v("\n            Please contact through "),n("a",{attrs:{href:"mailto:swjomojomo@gmail.com"}},[t._v("swjomojomo@gmail.com")])])],1)],1)],1)},ge=[],be={components:{Logout:$},data:function(){return{value:0,ticksLabels:["0.5","0.75","1.0","1.01"],pm:1,sc:.4,fq:500,ac:70,ri:56,gi:104,bi:188,ti:.3,hi:!0,vi:!0,isDialog:!0}},methods:{change:function(){var t=this.$db.requireDB(),e=s.state.user.uid;t.collection("users").doc(e).collection("model").doc("setting").update({pm:this.pm,sc:this.sc,fq:this.fq,ac:this.ac}),chrome.runtime.sendMessage({data:"setting",pmm:this.pm,scm:this.sc,fqm:this.fq,acm:this.ac})},fill:function(){var t=document.getElementById("cvs"),e=t.getContext("2d"),n="#"+this.pad(this.ri.toString(16),2)+this.pad(this.gi.toString(16),2)+this.pad(this.bi.toString(16),2);e.fillStyle=n,e.fillRect(0,0,390,163);var a=this.$db.requireDB(),o=s.state.user.uid;a.collection("users").doc(o).collection("model").doc("setting").update({ri:this.ri,gi:this.gi,bi:this.bi,ti:this.ti}),chrome.runtime.sendMessage({data:"interface",rim:this.ri,gim:this.gi,bim:this.bi,tim:this.ti})},opacity:function(){var t=document.getElementById("cvs");t.style="width:250px;opacity:"+this.ti.toString(),this.fill()},interfaceIO:function(){var t=this.$db.requireDB(),e=s.state.user.uid;t.collection("users").doc(e).collection("model").doc("setting").update({isDialog:this.isDialog,vi:this.vi,hi:this.hi}),chrome.runtime.sendMessage({data:"interfaceIO",isDialogm:this.isDialog,vim:this.vi,him:this.hi})},pad:function(t,e){return t+="",t.length>=e?t:new Array(e-t.length+1).join("0")+t}},mounted:function(){var t=this,e=this.$db.requireDB(),n=s.state.user.uid;e.collection("users").doc(n).collection("model").doc("setting").get().then(function(a){a.exists?(t.pm=a.data().pm,t.sc=a.data().sc,t.fq=a.data().fq,t.ac=a.data().ac,t.ri=a.data().ri,t.gi=a.data().gi,t.bi=a.data().bi,t.ti=a.data().ti,t.vi=a.data().vi,t.hi=a.data().hi,t.isDialog=a.data().isDialog):e.collection("users").doc(n).collection("model").doc("setting").set({pm:t.pm,sc:t.sc,fq:t.fq,ac:t.ac,ri:t.ri,gi:t.gi,bi:t.bi,ti:t.ti,vi:t.vi,hi:t.hi,isDialog:t.isDialog}),t.opacity(),chrome.runtime.sendMessage({data:"setting",pmm:t.pm,scm:t.sc,fqm:t.fq,acm:t.ac})}),chrome.runtime.sendMessage({data:"login",uidm:n},function(e){t.local=e.localm,t.custom=e.customm})}},ye=be,we=n("ac7c"),xe=n("ba0d"),_e=Object(f["a"])(ye,fe,ge,!1,null,"1314aad3",null),ke=_e.exports;b()(_e,{VCard:kt["a"],VCardText:Ct["b"],VCardTitle:Dt["a"],VCheckbox:we["a"],VContainer:x["a"],VDivider:Vt["a"],VFlex:L["a"],VIcon:Ot["a"],VLayout:jt["a"],VSlider:xe["a"],VSpacer:_["a"],VTooltip:Mt["a"]});var Ce=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",{attrs:{row:"",wrap:""}},[n("Logout"),n("v-flex",{staticStyle:{padding:"5px"}},[n("v-card",{attrs:{"min-width":"640",hover:""}},[n("v-card-title",[n("h1",[t._v("Upload")])]),n("v-divider"),n("v-card-media",[n("vue-dropzone",{ref:"myVueDropzone",attrs:{id:"dropzone",options:t.dropzoneOptions,useCustomSlot:!0}},[n("div",{staticClass:"dropzone-custom-content"},[n("h3",{staticClass:"dropzone-custom-title"},[t._v("Drag and drop to upload content!")]),n("div",{staticClass:"subtitle"},[t._v("...or click to select a file from your computer")])])])],1),n("v-divider"),n("v-card-text",[t._v("\n                Upload your model that receive posenet output!"),n("br"),t._v("\n                There are certain rules to be beware!"),n("br"),t._v("\n                1. Your file name should be 'model.json' and 'model.weights.bin'."),n("br"),t._v("\n                2. Your previous models will be overwritten and unrecoverable. "),n("br"),t._v("\n                3. You can create a model in the "),n("a",{attrs:{href:"/"}},[t._v("Train tab.")])]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{outline:"",color:"accent"},on:{click:function(e){return t.upload()}}},[t._v("Upload")])],1)],1)],1),n("v-dialog",{attrs:{width:"300"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[t._v("\n                Upload Error\n            ")]),n("v-card-text",[t._v("\n                Incorrect File names"),n("br"),t._v("\n                The files should be named:"),n("br"),t._v(' "model.json" and "model.weights.bin"\n            ')]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.dialog=!1}}},[t._v("\n                    Confirm\n                ")])],1)],1)],1),n("v-dialog",{attrs:{width:"300"},model:{value:t.success,callback:function(e){t.success=e},expression:"success"}},[n("v-card",[n("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[t._v("\n                Upload Success\n            ")]),n("v-card-text",[t._v("\n                upload was successful!\n            ")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.success=!1}}},[t._v("\n                    Confirm\n                ")])],1)],1)],1)],1)},De=[],Ve=n("4a9d"),Se=n("92c3"),Oe=n.n(Se),je=(n("1e3f"),{components:{Logout:$,vueDropzone:Oe.a},data:function(){return{dropzoneOptions:{url:"https://httpbin.org/post",thumbnailWidth:200,addRemoveLinks:!0},dialog:!1,success:!1}},methods:{upload:function(){var t=this.$refs.myVueDropzone.getAcceptedFiles();2!=t.length?this.s3UploadError():"model.json"==t[0].name?"model.weights.bin"==t[1].name?this.s3Upload(t):this.s3UploadError():"model.weights.bin"==t[0].name&&"model.json"==t[1].name?this.s3Upload(t):this.s3UploadError()},s3UploadError:function(){console.log("the files are not named correctly"),this.dialog=!0},s3Upload:function(t){var e=this.$db.requireDB(),n=s.state.user.uid;Ve["config"].update({region:"ap-northeast-2",credentials:new Ve["CognitoIdentityCredentials"]({IdentityPoolId:"ap-northeast-2:a33ab703-91e9-41e9-b525-2b9f73b9aa48"})});var a=new Ve["S3"]({apiVersion:"2006-03-01",params:{Bucket:"ai-models"}});a.upload({Bucket:"ai-models",Key:"user/"+n+"/"+t[0].name,Body:t[0]},function(t,e){return console.log(t,e)}),a.upload({Bucket:"ai-models",Key:"user/"+n+"/"+t[1].name,Body:t[1]},function(t,e){return console.log(t,e)}),this.$refs.myVueDropzone.removeAllFiles(!0),e.collection("users").doc(n).collection("model").doc("map").update({aws:!0}),this.success=!0,chrome.runtime.sendMessage({data:"saveModel",uidm:n})}}}),Pe=je,Ie=(n("620d"),n("b901")),Re=n("169a"),Te=Object(f["a"])(Pe,Ce,De,!1,null,"37f73d76",null),Me=Te.exports;b()(Te,{VBtn:w["a"],VCard:kt["a"],VCardActions:Ct["a"],VCardMedia:Ie["a"],VCardText:Ct["b"],VCardTitle:Dt["a"],VDialog:Re["a"],VDivider:Vt["a"],VFlex:L["a"],VLayout:jt["a"],VSpacer:_["a"]}),a["a"].use(j["a"]);var qe=new j["a"]({routes:[{path:"/login",name:"login",component:re},{path:"/",name:"train",component:Lt,meta:{authRequired:!0}},{path:"/function",name:"function",component:he,meta:{authRequired:!0}},{path:"/setting",name:"setting",component:ke,meta:{authRequired:!0}},{path:"/upload",name:"upload",component:Me,meta:{authRequired:!0}}]});qe.beforeEach(function(t,e,n){t.matched.some(function(t){return t.meta.authRequired})?s.state.user?n():n({path:"/login",query:{redirect:t.fullPath}}):n()});var Be=qe,Ee=n("31bd");n.d(e,"App",function(){return O}),n.d(e,"router",function(){return Be}),n.d(e,"store",function(){return s}),a["a"].use(d),a["a"].config.productionTip=!1,Object(Ee["sync"])(s,Be),new a["a"]({router:Be,store:s,render:function(t){return t(O)}}).$mount("#app")},"620d":function(t,e,n){"use strict";var a=n("0b8e"),o=n.n(a);o.a}});
//# sourceMappingURL=app.09f39250.js.map